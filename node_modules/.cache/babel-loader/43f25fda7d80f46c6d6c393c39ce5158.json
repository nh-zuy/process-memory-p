{"ast":null,"code":"var _jsxFileName = \"/home/zuy/Documents/process-memory-p/src/pages/LoginPage.js\";\nimport { Component } from 'react';\nimport { Form, FormGroup, FormFeedback, Label, Input, Button } from 'reactstrap';\nimport firebase from \"./../firebase\";\nimport { getDatabase, ref, child, get } from \"firebase/database\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass LoginPage extends Component {\n  constructor(props) {\n    super(props);\n\n    this.handleChange = event => {\n      const {\n        target\n      } = event;\n      const value = target.type === 'checkbox' ? target.checked : target.value;\n      const {\n        name\n      } = target;\n      this.setState({\n        [name]: value\n      });\n    };\n\n    this.state = {\n      computerId: '',\n      parentKey: '',\n      error: ''\n    };\n    this.handleChange = this.handleChange.bind(this);\n  }\n\n  async submitForm(e) {\n    e.preventDefault();\n    let data = null;\n    const dbRef = ref(getDatabase(firebase));\n    await get(child(dbRef, `users/${this.state.computerId}`)).then(snapshot => {\n      if (snapshot.exists()) {\n        data = snapshot.val();\n      }\n    }).catch(error => {\n      console.error(error);\n    });\n\n    if (data.parentKey === this.state.parentKey) {\n      this.props.setLogin(data);\n    }\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"login\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"\\u0110\\u0103ng nh\\u1EADp\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Form, {\n        className: \"form\",\n        onSubmit: e => this.submitForm(e),\n        children: [/*#__PURE__*/_jsxDEV(FormGroup, {\n          children: [/*#__PURE__*/_jsxDEV(Label, {\n            children: \"Computer ID\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 60,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Input, {\n            type: \"text\",\n            name: \"computerId\",\n            id: \"computerId\",\n            value: this.state.computerId,\n            onChange: e => {\n              this.handleChange(e);\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 61,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(FormFeedback, {\n          children: this.state.error\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(FormGroup, {\n          children: [/*#__PURE__*/_jsxDEV(Label, {\n            for: \"examplePassword\",\n            children: \"Parent Key\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 75,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Input, {\n            type: \"password\",\n            name: \"parentKey\",\n            id: \"parentKey\",\n            value: this.state.parentKey,\n            onChange: e => this.handleChange(e)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 76,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          color: \"primary\",\n          children: \"\\u0110\\u0103ng nh\\u1EADp\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nexport default LoginPage;","map":{"version":3,"sources":["/home/zuy/Documents/process-memory-p/src/pages/LoginPage.js"],"names":["Component","Form","FormGroup","FormFeedback","Label","Input","Button","firebase","getDatabase","ref","child","get","LoginPage","constructor","props","handleChange","event","target","value","type","checked","name","setState","state","computerId","parentKey","error","bind","submitForm","e","preventDefault","data","dbRef","then","snapshot","exists","val","catch","console","setLogin","render"],"mappings":";AAAA,SAASA,SAAT,QAA0B,OAA1B;AACA,SACIC,IADJ,EAEIC,SAFJ,EAGIC,YAHJ,EAIIC,KAJJ,EAKIC,KALJ,EAMIC,MANJ,QAOO,YAPP;AASA,OAAOC,QAAP,MAAqB,eAArB;AACA,SAASC,WAAT,EAAsBC,GAAtB,EAA2BC,KAA3B,EAAkCC,GAAlC,QAA6C,mBAA7C;;;AAEA,MAAMC,SAAN,SAAwBZ,SAAxB,CAAkC;AAC9Ba,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACf,UAAMA,KAAN;;AADe,SAUnBC,YAVmB,GAUHC,KAAD,IAAW;AACtB,YAAM;AAAEC,QAAAA;AAAF,UAAaD,KAAnB;AACA,YAAME,KAAK,GAAGD,MAAM,CAACE,IAAP,KAAgB,UAAhB,GAA6BF,MAAM,CAACG,OAApC,GAA8CH,MAAM,CAACC,KAAnE;AACA,YAAM;AAAEG,QAAAA;AAAF,UAAWJ,MAAjB;AAEA,WAAKK,QAAL,CAAc;AACV,SAACD,IAAD,GAAQH;AADE,OAAd;AAGH,KAlBkB;;AAEf,SAAKK,KAAL,GAAa;AACTC,MAAAA,UAAU,EAAE,EADH;AAETC,MAAAA,SAAS,EAAE,EAFF;AAGTC,MAAAA,KAAK,EAAE;AAHE,KAAb;AAKA,SAAKX,YAAL,GAAoB,KAAKA,YAAL,CAAkBY,IAAlB,CAAuB,IAAvB,CAApB;AACH;;AAYe,QAAVC,UAAU,CAACC,CAAD,EAAI;AAChBA,IAAAA,CAAC,CAACC,cAAF;AAEA,QAAIC,IAAI,GAAG,IAAX;AACA,UAAMC,KAAK,GAAGvB,GAAG,CAACD,WAAW,CAACD,QAAD,CAAZ,CAAjB;AACA,UAAMI,GAAG,CAACD,KAAK,CAACsB,KAAD,EAAS,SAAQ,KAAKT,KAAL,CAAWC,UAAW,EAAvC,CAAN,CAAH,CAAoDS,IAApD,CAA0DC,QAAD,IAAc;AACzE,UAAIA,QAAQ,CAACC,MAAT,EAAJ,EAAuB;AACnBJ,QAAAA,IAAI,GAAGG,QAAQ,CAACE,GAAT,EAAP;AACH;AACJ,KAJK,EAIHC,KAJG,CAIIX,KAAD,IAAW;AAChBY,MAAAA,OAAO,CAACZ,KAAR,CAAcA,KAAd;AACH,KANK,CAAN;;AAQA,QAAIK,IAAI,CAACN,SAAL,KAAmB,KAAKF,KAAL,CAAWE,SAAlC,EAA6C;AACzC,WAAKX,KAAL,CAAWyB,QAAX,CAAoBR,IAApB;AACH;AACJ;;AAEDS,EAAAA,MAAM,GAAG;AAEL,wBACI;AAAK,MAAA,SAAS,EAAC,OAAf;AAAA,8BACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADJ,eAEI,QAAC,IAAD;AAAM,QAAA,SAAS,EAAC,MAAhB;AAAuB,QAAA,QAAQ,EAAGX,CAAD,IAAO,KAAKD,UAAL,CAAgBC,CAAhB,CAAxC;AAAA,gCACI,QAAC,SAAD;AAAA,kCACI,QAAC,KAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADJ,eAEI,QAAC,KAAD;AACI,YAAA,IAAI,EAAC,MADT;AAEI,YAAA,IAAI,EAAC,YAFT;AAGI,YAAA,EAAE,EAAC,YAHP;AAII,YAAA,KAAK,EAAE,KAAKN,KAAL,CAAWC,UAJtB;AAKI,YAAA,QAAQ,EAAGK,CAAD,IAAO;AACb,mBAAKd,YAAL,CAAkBc,CAAlB;AACH;AAPL;AAAA;AAAA;AAAA;AAAA,kBAFJ;AAAA;AAAA;AAAA;AAAA;AAAA,gBADJ,eAaI,QAAC,YAAD;AAAA,oBACK,KAAKN,KAAL,CAAWG;AADhB;AAAA;AAAA;AAAA;AAAA,gBAbJ,eAgBI,QAAC,SAAD;AAAA,kCACI,QAAC,KAAD;AAAO,YAAA,GAAG,EAAC,iBAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADJ,eAEI,QAAC,KAAD;AACI,YAAA,IAAI,EAAC,UADT;AAEI,YAAA,IAAI,EAAC,WAFT;AAGI,YAAA,EAAE,EAAC,WAHP;AAII,YAAA,KAAK,EAAE,KAAKH,KAAL,CAAWE,SAJtB;AAKI,YAAA,QAAQ,EAAGI,CAAD,IAAO,KAAKd,YAAL,CAAkBc,CAAlB;AALrB;AAAA;AAAA;AAAA;AAAA,kBAFJ;AAAA;AAAA;AAAA;AAAA;AAAA,gBAhBJ,eA0BI,QAAC,MAAD;AAAQ,UAAA,KAAK,EAAC,SAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBA1BJ;AAAA;AAAA;AAAA;AAAA;AAAA,cAFJ;AAAA;AAAA;AAAA;AAAA;AAAA,YADJ;AAiCH;;AA1E6B;;AA6ElC,eAAejB,SAAf","sourcesContent":["import { Component } from 'react';\nimport {\n    Form,\n    FormGroup,\n    FormFeedback,\n    Label,\n    Input,\n    Button,\n} from 'reactstrap';\n\nimport firebase from \"./../firebase\";\nimport { getDatabase, ref, child, get } from \"firebase/database\";\n\nclass LoginPage extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            computerId: '',\n            parentKey: '',\n            error: ''\n        };\n        this.handleChange = this.handleChange.bind(this);\n    }\n\n    handleChange = (event) => {\n        const { target } = event;\n        const value = target.type === 'checkbox' ? target.checked : target.value;\n        const { name } = target;\n\n        this.setState({\n            [name]: value,\n        });\n    };\n\n    async submitForm(e) {\n        e.preventDefault();\n        \n        let data = null;\n        const dbRef = ref(getDatabase(firebase));\n        await get(child(dbRef, `users/${this.state.computerId}`)).then((snapshot) => {\n            if (snapshot.exists()) {\n                data = snapshot.val();\n            }\n        }).catch((error) => {\n            console.error(error);\n        });\n        \n        if (data.parentKey === this.state.parentKey) {\n            this.props.setLogin(data);\n        }\n    }\n\n    render() {\n\n        return (\n            <div className=\"login\">\n                <h2>Đăng nhập</h2>\n                <Form className=\"form\" onSubmit={(e) => this.submitForm(e)}>\n                    <FormGroup>\n                        <Label>Computer ID</Label>\n                        <Input\n                            type=\"text\"\n                            name=\"computerId\"\n                            id=\"computerId\"\n                            value={this.state.computerId}\n                            onChange={(e) => {\n                                this.handleChange(e);\n                            }}\n                        />\n                    </FormGroup>\n                    <FormFeedback>\n                        {this.state.error}\n                    </FormFeedback>\n                    <FormGroup>\n                        <Label for=\"examplePassword\">Parent Key</Label>\n                        <Input\n                            type=\"password\"\n                            name=\"parentKey\"\n                            id=\"parentKey\"\n                            value={this.state.parentKey}\n                            onChange={(e) => this.handleChange(e)}\n                        />\n                    </FormGroup>\n                    <Button color=\"primary\">Đăng nhập</Button>\n                </Form>\n            </div>\n        );\n    }\n}\n\nexport default LoginPage;"]},"metadata":{},"sourceType":"module"}