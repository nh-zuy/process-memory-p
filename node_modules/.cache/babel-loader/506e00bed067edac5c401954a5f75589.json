{"ast":null,"code":"import _slicedToArray from\"/home/zuy/Documents/process-memory-p/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{Fragment,useEffect,useState}from\"react\";import{Table,Button}from\"reactstrap\";import{getDatabase,ref,onValue,remove}from\"firebase/database\";import firebase from\"./../firebase\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function DashboardContainer(){var _useState=useState({}),_useState2=_slicedToArray(_useState,2),schedules=_useState2[0],setSchedules=_useState2[1];var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),computerId=_useState4[0],setComputerId=_useState4[1];useEffect(function(){var login=JSON.parse(localStorage.getItem('login'));var computerId=login.computerId;setComputerId(computerId);var db=getDatabase(firebase);var starCountRef=ref(db,'schedules/'+computerId);onValue(starCountRef,function(snapshot){var data=snapshot.val();setSchedules(data);console.log(data);});},[]);var handleDelete=function handleDelete(id){var db=getDatabase(firebase);var starCountRef=ref(db,'schedules/'+id);remove(starCountRef);};return/*#__PURE__*/_jsxs(Fragment,{children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-center \",children:\"Danh s\\xE1ch c\\xE1c m\\xE1y qu\\u1EA3n l\\xED.\"}),/*#__PURE__*/_jsxs(Table,{responsive:true,children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"ID\"}),/*#__PURE__*/_jsx(\"th\",{children:\"M\\xE1y\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Gi\\u1EDD b\\u1EAFt \\u0111\\u1EA7u\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Gi\\u1EDD k\\u1EBFt th\\xFAc\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Th\\u1EDDi gian s\\u1EED d\\u1EE5ng\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Th\\u1EDDi gian ngh\\u1EC9\"}),/*#__PURE__*/_jsx(\"th\",{children:\"T\\u1ED5ng th\\u1EDDi gian\"}),/*#__PURE__*/_jsx(\"th\",{children:\"#\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:schedules&&/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{scope:\"row\",children:\"1\"}),/*#__PURE__*/_jsx(\"td\",{children:\"1\"}),/*#__PURE__*/_jsx(\"td\",{children:schedules.f}),/*#__PURE__*/_jsx(\"td\",{children:schedules.t}),/*#__PURE__*/_jsx(\"td\",{children:schedules.d}),/*#__PURE__*/_jsx(\"td\",{children:schedules.i}),/*#__PURE__*/_jsx(\"td\",{children:schedules.s}),/*#__PURE__*/_jsxs(\"td\",{children:[/*#__PURE__*/_jsx(\"a\",{className:\"mr-5 btn btn-warning\",href:\"/schedule/\"+computerId,children:\"C\\u1EADp nh\\u1EADt\"}),/*#__PURE__*/_jsx(Button,{className:\"ml-5 btn btn-danger\",onClick:function onClick(){return handleDelete(computerId);},children:\"X\\xF3a\"})]})]},1)})]})]});}export default DashboardContainer;","map":{"version":3,"sources":["/home/zuy/Documents/process-memory-p/src/containers/DashboardContainer.js"],"names":["React","Fragment","useEffect","useState","Table","Button","getDatabase","ref","onValue","remove","firebase","DashboardContainer","schedules","setSchedules","computerId","setComputerId","login","JSON","parse","localStorage","getItem","db","starCountRef","snapshot","data","val","console","log","handleDelete","id","f","t","d","i","s"],"mappings":"0HAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,CAAqCC,QAArC,KAAqD,OAArD,CACA,OAASC,KAAT,CAAgBC,MAAhB,KAA8B,YAA9B,CAEA,OAASC,WAAT,CAAsBC,GAAtB,CAA2BC,OAA3B,CAAoCC,MAApC,KAAkD,mBAAlD,CACA,MAAOC,CAAAA,QAAP,KAAqB,eAArB,C,wFAEA,QAASC,CAAAA,kBAAT,EAA8B,CAC1B,cAAkCR,QAAQ,CAAC,EAAD,CAA1C,wCAAOS,SAAP,eAAkBC,YAAlB,eACA,eAAoCV,QAAQ,CAAC,IAAD,CAA5C,yCAAOW,UAAP,eAAmBC,aAAnB,eAEAb,SAAS,CAAC,UAAM,CACZ,GAAMc,CAAAA,KAAK,CAAGC,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAX,CAAd,CACA,GAAMN,CAAAA,UAAU,CAAGE,KAAK,CAACF,UAAzB,CACAC,aAAa,CAACD,UAAD,CAAb,CAEA,GAAMO,CAAAA,EAAE,CAAGf,WAAW,CAACI,QAAD,CAAtB,CACA,GAAMY,CAAAA,YAAY,CAAGf,GAAG,CAACc,EAAD,CAAK,aAAeP,UAApB,CAAxB,CACAN,OAAO,CAACc,YAAD,CAAe,SAACC,QAAD,CAAc,CAChC,GAAMC,CAAAA,IAAI,CAAGD,QAAQ,CAACE,GAAT,EAAb,CACAZ,YAAY,CAACW,IAAD,CAAZ,CACAE,OAAO,CAACC,GAAR,CAAYH,IAAZ,EACH,CAJM,CAAP,CAKH,CAZQ,CAYN,EAZM,CAAT,CAcA,GAAMI,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAACC,EAAD,CAAQ,CACzB,GAAMR,CAAAA,EAAE,CAAGf,WAAW,CAACI,QAAD,CAAtB,CACA,GAAMY,CAAAA,YAAY,CAAGf,GAAG,CAACc,EAAD,CAAK,aAAeQ,EAApB,CAAxB,CACApB,MAAM,CAACa,YAAD,CAAN,CACH,CAJD,CAMA,mBACI,MAAC,QAAD,yBACI,WAAI,SAAS,CAAC,cAAd,yDADJ,cAGI,MAAC,KAAD,EAAO,UAAU,KAAjB,wBACI,oCACI,mCACI,0BADJ,cAII,8BAJJ,cAOI,uDAPJ,cAUI,iDAVJ,cAaI,wDAbJ,cAgBI,gDAhBJ,cAmBI,gDAnBJ,cAsBI,yBAtBJ,GADJ,EADJ,cA4BI,uBACKV,SAAS,eAAI,mCACV,WAAI,KAAK,CAAC,KAAV,eADU,cAIV,yBAJU,cAOV,oBACKA,SAAS,CAACkB,CADf,EAPU,cAUV,oBACKlB,SAAS,CAACmB,CADf,EAVU,cAaV,oBACKnB,SAAS,CAACoB,CADf,EAbU,cAgBV,oBACKpB,SAAS,CAACqB,CADf,EAhBU,cAmBV,oBACKrB,SAAS,CAACsB,CADf,EAnBU,cAsBV,mCACI,UAAG,SAAS,CAAC,sBAAb,CAAoC,IAAI,CAAE,aAAepB,UAAzD,gCADJ,cAEI,KAAC,MAAD,EAAQ,SAAS,CAAC,qBAAlB,CAAwC,OAAO,CAAE,yBAAMc,CAAAA,YAAY,CAACd,UAAD,CAAlB,EAAjD,oBAFJ,GAtBU,GAAS,CAAT,CADlB,EA5BJ,GAHJ,GADJ,CAiEH,CAED,cAAeH,CAAAA,kBAAf","sourcesContent":["import React, { Fragment, useEffect, useState } from \"react\";\nimport { Table, Button } from \"reactstrap\";\n\nimport { getDatabase, ref, onValue, remove } from \"firebase/database\";\nimport firebase from \"./../firebase\";\n\nfunction DashboardContainer() {\n    const [schedules, setSchedules] = useState({});\n    const [computerId, setComputerId] = useState(null);\n\n    useEffect(() => {\n        const login = JSON.parse(localStorage.getItem('login'));\n        const computerId = login.computerId;\n        setComputerId(computerId);\n\n        const db = getDatabase(firebase);\n        const starCountRef = ref(db, 'schedules/' + computerId);\n        onValue(starCountRef, (snapshot) => {\n            const data = snapshot.val();\n            setSchedules(data);\n            console.log(data);\n        });\n    }, []);\n\n    const handleDelete = (id) => {\n        const db = getDatabase(firebase);\n        const starCountRef = ref(db, 'schedules/' + id);\n        remove(starCountRef);\n    }\n\n    return (\n        <Fragment>\n            <h1 className=\"text-center \">Danh sách các máy quản lí.</h1>\n\n            <Table responsive>\n                <thead>\n                    <tr>\n                        <th>\n                            ID\n                        </th>\n                        <th>\n                            Máy\n                        </th>\n                        <th>\n                            Giờ bắt đầu\n                        </th>\n                        <th>\n                            Giờ kết thúc\n                        </th>\n                        <th>\n                            Thời gian sử dụng\n                        </th>\n                        <th>\n                            Thời gian nghỉ\n                        </th>\n                        <th>\n                            Tổng thời gian\n                        </th>\n                        <th>#</th>\n                    </tr>\n                </thead>\n\n                <tbody>\n                    {schedules && <tr key={1} >\n                        <th scope=\"row\">\n                            1\n                        </th>\n                        <td>\n                            1\n                        </td>\n                        <td>\n                            {schedules.f}\n                        </td>\n                        <td>\n                            {schedules.t}\n                        </td>\n                        <td>\n                            {schedules.d}\n                        </td>\n                        <td>\n                            {schedules.i}\n                        </td>\n                        <td>\n                            {schedules.s}\n                        </td>\n                        <td>\n                            <a className=\"mr-5 btn btn-warning\" href={\"/schedule/\" + computerId}>Cập nhật</a>\n                            <Button className=\"ml-5 btn btn-danger\" onClick={() => handleDelete(computerId)}>Xóa</Button>\n                        </td>\n                    </tr>}\n\n                </tbody>\n            </Table>\n        </Fragment>\n    )\n}\n\nexport default DashboardContainer;"]},"metadata":{},"sourceType":"module"}